{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h3>Search Results for "{{ query }}"</h3>

    {% if subjects or chapters or quizzes or scores %}
        <div class="mt-3">
            {% if subjects %}
                <h5>Subjects</h5>
                <ul class="list-group">
                    {% for subject in subjects %}
                        <li class="list-group-item">{{ subject.name }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            {% if chapters %}
                <h5 class="mt-3">Chapters</h5>
                <ul class="list-group">
                    {% for chapter in chapters %}
                        <li class="list-group-item">{{ chapter.name }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            {% if quizzes %}
                <h5 class="mt-3">Quizzes</h5>
                <ul class="list-group">
                    {% for quiz in quizzes %}
                        <li class="list-group-item">{{ quiz.name }} ({{ quiz.chapter.subject.name }})</li>
                    {% endfor %}
                </ul>
            {% endif %}

            {% if scores %}
                <h5 class="mt-3">Your Scores</h5>
                <ul class="list-group">
                    {% for score in scores %}
                        <li class="list-group-item">
                            Quiz: {{ score.quiz.name }} | Score: {{ score.total_score }}
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    {% else %}
        <p class="text-muted">No results found.</p>
    {% endif %}
</div>
{% endblock %}
